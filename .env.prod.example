# 数据库配置 会在 docker-compose 里覆盖掉
DATABASE_URL=./db.prod.sqlite

# JWT 配置
JWT_SECRET=your-super-secret-jwt-key-please-change-this-in-production-environment

# 服务器配置 会在 docker-compose 里覆盖掉
PORT=4778
NODE_ENV=production

# Redis 配置
REDIS_HOST=zzclub_redis_server
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password
REDIS_DB=3
REDIS_KEY_PREFIX=bun-hono:

# 日志配置
LOG_LEVEL=info                   # 日志级别: trace, debug, info, warn, error
LOG_FILE_ENABLED=true             # 是否启用文件日志输出
LOG_FILE_MAX_SIZE=10              # 单个日志文件最大大小(MB)
LOG_FILE_MAX_FILES=7              # 保留的日志文件数量
LOG_ERROR_FILE=true               # 是否单独记录错误日志文件

# 安全配置
RATE_LIMIT_GLOBAL_MAX=100          # 全局限流：每分钟最大请求数
RATE_LIMIT_AUTH_MAX=5              # 认证限流：每5分钟最大登录尝试次数
RATE_LIMIT_USER_MAX=30             # 用户限流：每分钟最大请求数
RATE_LIMIT_STRICT_MAX=5            # 严格限流：每小时最大请求数（敏感操作）
RATE_LIMIT_UPLOAD_MAX=10           # 文件上传限流：每分钟最大上传次数
MAX_REQUEST_SIZE=10485760          # 最大请求体大小（10MB）

# 缓存配置（未来可扩展）
# REDIS_URL=redis://localhost:6379

# 文件上传配置
UPLOAD_STORAGE_TYPE=local           # 存储类型: local, cos, s3, oss
UPLOAD_MAX_FILE_SIZE=10485760       # 最大文件大小(10MB)
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf,text/plain
UPLOAD_ALLOWED_EXTENSIONS=.jpg,.jpeg,.png,.gif,.webp,.pdf,.txt
UPLOAD_PATH_PREFIX=uploads          # 上传路径前缀

# 文件上传安全配置
UPLOAD_ENABLE_SECURITY_SCAN=true    # 启用安全扫描
UPLOAD_BLOCK_EXECUTABLE_FILES=true  # 阻止可执行文件
UPLOAD_SCAN_FILE_CONTENT=true       # 扫描文件内容
UPLOAD_MAX_FILENAME_LENGTH=255       # 最大文件名长度
UPLOAD_QUARANTINE_SUSPICIOUS_FILES=false # 隔离可疑文件

# 本地存储配置
UPLOAD_LOCAL_DIR=./uploads          # 本地上传目录
UPLOAD_LOCAL_BASE_URL=https://ipx.zzao.club/  # 静态文件访问URL
UPLOAD_LOCAL_CREATE_DATE_DIR=true   # 是否创建日期子目录

# 腾讯云COS配置（当UPLOAD_STORAGE_TYPE=cos时使用）
# COS_APP_ID=your-app-id
# COS_SECRET_ID=your-secret-id
# COS_SECRET_KEY=your-secret-key
# COS_BUCKET=your-bucket-name
# COS_REGION=ap-beijing
# COS_DOMAIN=your-custom-domain.com
# COS_PREFIX=uploads
# COS_HTTPS=true

# AWS S3配置（当UPLOAD_STORAGE_TYPE=s3时使用）
# S3_ACCESS_KEY_ID=your-access-key
# S3_SECRET_ACCESS_KEY=your-secret-key
# S3_BUCKET=your-bucket-name
# S3_REGION=us-east-1
# S3_ENDPOINT=https://s3.amazonaws.com

# 阿里云OSS配置（当UPLOAD_STORAGE_TYPE=oss时使用）
# OSS_ACCESS_KEY_ID=your-access-key-id
# OSS_ACCESS_KEY_SECRET=your-access-key-secret
# OSS_BUCKET=your-bucket-name
# OSS_REGION=oss-cn-hangzhou
# OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com