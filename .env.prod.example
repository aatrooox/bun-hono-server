# 生产环境配置文件示例
# 复制此文件为 .env.prod 并修改相应配置

# ================== 基础配置 ==================
NODE_ENV=production
PORT=3000
APP_PORT=3000

# ================== 应用配置 ==================
APP_NAME=Bun Hono Server
APP_URL=https://your-domain.com

# ================== 数据库配置 ==================
# 生产环境推荐使用外部 MySQL/PostgreSQL
DATABASE_URL=mysql://username:password@host:port/database
# 或者 PostgreSQL
# DATABASE_URL=postgresql://username:password@host:port/database

# ================== Redis 配置 ==================
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
REDIS_KEY_PREFIX=bun-hono:prod:

# ================== JWT 配置 ==================
# ⚠️ 生产环境必须使用强密钥，至少32位字符
JWT_SECRET=your-super-secure-jwt-secret-key-change-this-in-production
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ================== 日志配置 ==================
LOG_LEVEL=warn
LOG_FILE_ENABLED=true
LOG_FILE_MAX_SIZE=50
LOG_FILE_MAX_FILES=30
LOG_ERROR_FILE=true

# ================== 安全配置 ==================
RATE_LIMIT_GLOBAL_MAX=1000
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_USER_MAX=100
RATE_LIMIT_STRICT_MAX=10
RATE_LIMIT_UPLOAD_MAX=20
MAX_REQUEST_SIZE=52428800
BCRYPT_ROUNDS=12

# ================== 文件上传配置 ==================
# 生产环境推荐使用对象存储
UPLOAD_STORAGE_TYPE=cos
UPLOAD_MAX_FILE_SIZE=52428800
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf,text/plain
UPLOAD_ALLOWED_EXTENSIONS=.jpg,.jpeg,.png,.gif,.webp,.pdf,.txt

# 文件上传安全配置
UPLOAD_ENABLE_SECURITY_SCAN=true
UPLOAD_BLOCK_EXECUTABLE_FILES=true
UPLOAD_SCAN_FILE_CONTENT=true
UPLOAD_MAX_FILENAME_LENGTH=255
UPLOAD_QUARANTINE_SUSPICIOUS_FILES=true

# ================== 腾讯云 COS 配置 ==================
COS_SECRET_ID=your-cos-secret-id
COS_SECRET_KEY=your-cos-secret-key
COS_BUCKET=your-bucket-name
COS_REGION=ap-beijing
COS_DOMAIN=your-custom-domain.com
COS_PREFIX=uploads
COS_HTTPS=true

# ================== AWS S3 配置 (可选) ==================
# S3_ACCESS_KEY_ID=your-access-key
# S3_SECRET_ACCESS_KEY=your-secret-key
# S3_BUCKET=your-bucket-name
# S3_REGION=us-east-1
# S3_ENDPOINT=https://s3.amazonaws.com

# ================== 阿里云 OSS 配置 (可选) ==================
# OSS_ACCESS_KEY_ID=your-access-key-id
# OSS_ACCESS_KEY_SECRET=your-access-key-secret
# OSS_BUCKET=your-bucket-name
# OSS_REGION=oss-cn-hangzhou
# OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com

# ================== 监控配置 ==================
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true

# ================== 其他配置 ==================
# 时区设置
TZ=Asia/Shanghai